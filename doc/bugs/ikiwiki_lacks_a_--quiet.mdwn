When building ikiwiki in the background, having a --quiet which will only
report errors would be nice. -- RichiH

> Except for building wrappers, and possibly progress cruft output to
> stderr by git (gag), ikiwiki is quiet by default. --[[Joey]]

>> Correct, which means it's not quite quiet:

    % ikiwiki --setup foo --rebuild
    generating wrappers..
    successfully generated foo
    successfully generated foo
    rebuilding wiki..
    scanning [...]
    [...]
    building [...]
    [...]
    done

Yes, I can simply redirect the output, but an option would be cleaner, imo. -- Richard

> The output above looks like verbose mode output to me (the scanning/building lines, at least).  Check you haven't enabled it in your setup file by accident. I get the following:

    $ ikiwiki --setup setup
    successfully generated [cgi]
    successfully generated [post-update]
    skipping bad filename [...]

> I think the following patch is enough to fix it (untested)

    --- a/IkiWiki/Wrapper.pm
    +++ b/IkiWiki/Wrapper.pm
    @@ -237,8 +237,7 @@ EOF
                    error("rename $wrapper.new $wrapper: $!");
            }
            #translators: The parameter is a filename.
    -       printf(gettext("successfully generated %s"), $wrapper);
    -       print "\n";
    +       debug(gettext("successfully generated %s"), $wrapper);
     }
     
     1

> -- [[Jon]]
