#Ikiwiki plugin for the Monotone revision control system.

I've just made a patch to the ikiwiki code that allows it to use the [Monotone](http://monotone.ca/) revision control system.  It is available at:

<http://www.cse.unsw.edu.au/~willu/monotone-ikiwiki.diff>

At the moment it is basically complete.  At present rcs_notify() is implemeted but untested, the rest is implemented and tested.

The current version of the patch handles conflicts through the web interface.  It is still not perfect as it will break if there is a rename that conflicts with a web change (but so will the other Rcs plugins I think).  It also commits a revision with conflict markers if there is a conflict requiring such markers... ick.

Note: This patch requires a rather recent Monotone perl module (18 August 2007 or later).  It is available from the monotone repository here: <http://viewmtn.angrygoats.net/branch/changes/net.venge.monotone>.

> The setup instructions to add 40 lines of code to monotonerc is pretty frightning stuff.
> Is there some way this can be automated? --[[Joey]]

>> I've committed a bunch of this to monotone so that in future it could be removed.
>> I've also just fixed this so it is in a separate, automagically generated, rc file.

>>> Fair enough. Didn't realize you were a monotone committer. :-)

>>>> I am, but still a little newish.  Feedback is good.

> Having rcs_commit return a warning message when there's an unresolved conflict
> isn't right; that message will populate the page edit box. You might want
> to use the error() function here?

>> It should never reach that case, so I have changed that to error.

> There'an incomplete comment ending with "note, this relies on the fact that"

>> erg... sorry, fixed.

[[tag patch]]

>> I've [[accepted|done]] this patch, thank you! 
>> 
>> I did make a few changes. Please review, and make sure it still works
>> (a test case like we have for some of the other RCSes would be nice..)
>> 
>> BTW, will all the monotone output parsing work if LANG != C?
>> 
>> Do monotone post-commit hooks actually use REV?
>> --[[Joey]]
