I am using mercurial as RCS backend and ikiwiki 2.40.

It seems that, when adding a blog post, it is not immediately commited to the mercurial repo. I have a page with this directive:

    \[[!inline pages="journal/blog2008/* and !*/Discussion" show="0" feeds="no" actions="yes" rootpage="journal/blog2008"]]

When I add a blog post, I see it on the wiki but it doesn't appear on `History` or `RecentChanges`. If I run `hg status` on the wiki source dir, I see the new file has been marked as `A` (ie, a new file that has not been commited).

If I then edit the blog post, **then** the file gets commited and I can see the edit on `History` and `RecentChanges`. The creation of the file remains unrecorded.  --[[buo]]

> Ikiwiki calls `rcs_add()` if the page is new, followed by `rcs_commit()`.
> For mercurial, these run respectively `hg add` and `hg commit`. If the
> add or commit fails, it will print a warning to stderr, you might check
> apache's error.log to see if there's anything there. --[[Joey]]

>>The problem was using accented characters (é, í) on the change comments. I didn't have
>>an UTF-8 locale enabled in my setup file. By coincidence this happened for the first time
>>in a couple of consecutive blog posts, so I was mistaken about the root of the problem. I don't know if
>>you will consider this behavior a bug, since it's strictly speaking a misconfiguration but it
>>still causes ikiwiki's mercurial backend to fail. A quick note in the docs might be a good idea. For my part, please
>>close this bug, and thanks for the help.  --[[buo]]
