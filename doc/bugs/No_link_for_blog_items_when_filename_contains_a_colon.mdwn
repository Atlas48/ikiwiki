Since upgrading from Ikiwiki 2.20 to 2.32.3 (from Debian Lenny), I don't get hyperlinks to items which have a colon in their name anymore. This applies to both the normal and the archive view. Before the update, the links have been created as relative links, so they weren't usable either as the browser tried to take the part before the colon as protocol specification (as in e.g. `http:`). Iirc, this applied to the archive view only, links in the normal view were ok (will check this out again if it's important). Is there a way to quote each colon as %xy in the hyperlinks? Perhaps it's only a problem with my config, and not an actual bug...?

EDIT: I just found that in this wiki under <http://ikiwiki.info/bugs/done/> the entry "mailto: links not properly generated in rss/atom feeds" also doesn't have a hyperlink - at least it's not a problem with my config only ;-)

[[madduck]]: I traced this down to `htmlscrubber`. If disabled, it works. If enabled, then `$safe_url_regexp` determines the URL unsafe because of the colon and hence removes the `src` attribute.

Digging into this, I find that [[rfc 3986]] pretty much discourages colons in
filenames:

> A path segment that contains a colon character (e.g., "this:that") cannot be
> used as the first segment of a relative-path reference, as it would be
> mistaken for a scheme name.  Such a segment must be preceded by
> a dot-segment (e.g., "./this:that") to make a relative- path reference.

on the other hand, with `usedirs`, any link to another page will be prepended
by `../` anyway, so that makes them okay again.

The solution still seems not to use colons.

In any case, `htmlscrubber` should get a new regexp, courtesy of dato: `[^:]+($|\/)`. I have tested and verified this.
