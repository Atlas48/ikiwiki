I am trying to install Ikiwiki version 2.1 from the source tarball.

It has all gone fairly smoothly until I try and run 'make'.

I.e. I have downloaded and unpacked ikiwiki_2.1.tar.gz and have run

    perl Makefile.PL

... which has run OK.


However when I then run 'make' I get:-

    LANG=C perl -I.  -T ikiwiki.out doc html --templatedir=templates \
                    --underlaydir=basewiki --nousedirs\
                    --wikiname="ikiwiki" --verbose \
                    --exclude=/discussion --no-discussion --userdir=users \
                    --plugin=goodstuff \
                    --plugin=haiku --plugin=polygen --plugin=fortune
    Failed to load plugin IkiWiki::Plugin::mdwn: IkiWiki version 2 required--this is only version 1.01 at IkiWiki/Plugin/mdwn.pm line 7.
    BEGIN failed--compilation aborted at IkiWiki/Plugin/mdwn.pm line 7.
    Compilation failed in require at (eval 4) line 2.
    BEGIN failed--compilation aborted at (eval 4) line 2.

    make: *** [extra_build] Error 1
 
How do I fix this?  There may be a bit of old ikiwiki left behind because
I did once have an older version installed but I thought I had removed all
traces of it.

> I'm quite sure that you still have some of it floating around, since
> ikiwiki seems to be loading an old IkiWiki.pm.
> 
> I don't understand though why it's not finding ./IkiWiki.pm first. The
> `-I` in the command line should make it look for files in the current
> directory first. --[[Joey]]

Well I have searched around and there really is nothing left that I can see.

I have removed *everything* found by 'find' and 'locate' that contains 'ikiwiki' except the tar file
and started from the beginning again and I see exactly the same error.

Is it that I maybe have a too old version of some of the Perl dependencies?  The only mdwn.pm files
that I have are the two I have just extracted from the new tar file.  There is *no* ./IkiWiki.pm file
so what/where is it loading to satisfy the ....... aaaaaaaaaaahhhhhhhhhhhhhh!!!!!!

I wasn't noticing the case of the filename, I'd missed the upper case W and guess what 'find' shows me:-

    /usr/local/lib/perl5/site_perl/5.8.8/IkiWiki.pm

Removing the above file has fixed my basic problem, now I'm getting lots of (non-fatal) errors
about "Can't locate Locale/gettext.pm", presumably that's a missing Perl module, I can probably
sort that out.


