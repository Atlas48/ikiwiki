As described on [Tails issue #5879](https://labs.riseup.net/code/issues/5879),
cgit wants URLs like:

        https://git-tails.immerda.ch/tails/commit/wiki/src/todo/fix_localized_iceweasel_search_engine.mdwn?id=c682a361418bef7bce040ea2905691d54be192ab

... while ikiwiki generates links like:

        https://git-tails.immerda.ch/tails/commit/wiki/src/todo%2Ffix_localized_iceweasel_search_engine.mdwn?id=c682a361418bef7bce040ea2905691d54be192ab

on the recentchanges page.

Would it make sense to add an option to skip URL-encoding when doing
the substitution of `\[[file]]` in `diffurl` and `historyurl`?

--[[intrigeri]]

> In `91b477c` I made a similar change to how the cvs backend encodes
> `diffurl`. Perhaps it applies to all VCS backends? --[[schmonz]]

>> Thanks a lot! I've not looked at it yet, but will try to do so
>> soonish, as this bug is a real problem forÂ Tails when welcoming potential
>> new contributors.
>> 
>> Also, note that this does not affect recentchanges only:  we have
>> the same problem for URLs generated by the shortcut plugin, e.g.
>> `\[[!tails_gitweb config/chroot_local-includes/usr/local/sbin/unsafe-browser]]`
>> in a page (with the shortcut defined as
>> `\[[!shortcut name=tails_gitweb url="https://git-tails.immerda.ch/tails/plain/%s"]]`)
>> produces URLs with `/` encoded as `%2F`, which fails the same way
>> in combination with cgit. --[[intrigeri]]

[[wishlist]]
