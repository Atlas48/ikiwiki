Now that ikiwiki supports using page/index.html rather than page.html, how about some mechanism to automatically generate a .htaccess file with "Redirect permanent" lines for each such page?

> I was thinking of using an apache RewriteRule for this, haven't written
> one yet though. --[[Joey]]

> Here's a RewriteRule that I'm using for <http://kitenet.net/>, which
> has an wiki at the top level that's using index.htmls, and some
> other stuff that shouldn't be rewritten.

	RewriteCond $1 !^/~
	RewriteCond $1 !^/doc/
	RewriteCond $1 !^/ajaxterm
	RewriteCond $1 !^/cgi-bin/
	RewriteCond $1 !.*/index$
	RewriteRule (.+).html $1/ [R]
	
	RewriteCond $1 !^/~
	RewriteCond $1 !.*/index$
	RewriteRule (.+).rss $1/index.rss
	
	RewriteCond $1 !^/~
	RewriteCond $1 !.*/index$
	RewriteRule (.+).atom $1/index.atom

>> Nice solution.  I think this would work for a newly-converted wiki as well,
>> using a condition to limit rewrites to that wiki's directory, and the
>> rewrite rule you propose.  Thus, autogenerating seems unnecessary; we
>> should just have a documented, known-working RewriteCond and RewriteRule
>> for wikis that want to turn on the `usedirs` option.  --[[JoshTriplett]]
