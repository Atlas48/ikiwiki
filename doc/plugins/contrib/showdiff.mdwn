[[template id=plugin name=showdiff author="[[JeremieKoenig]]"]]
[[tag type/useful]]

This plugin, which can be downloaded
[here](http://www.jk.fr.eu.org/ikiwiki/showdiff.pm),
adds a "Show Diff" button to the page edition template.
When clicked, a diff between the stored page and provided content
is shown in the "Page Preview" area.

It depends on
[this patch](http://www.jk.fr.eu.org/ikiwiki/pluggable_editpage_buttons.diff),
which does the following:

  * add a title to the editpage form;
  * pass a reference to the list of buttons to the formbuilder_setup
    hooks, so we can add ours;
  * relax asumption about the possible submit values (use "Save Page"
    explicitly);
  * de-hardcode the submit buttons from the editpage template
    (was this intended to work around something?).

## Problems

No special handling is done of concurrent edits: changes introduced
independently will show up in the requested diff, although they will
be merged when the page is saved. I suspect even detecting this case
would require changes in the RCS backends.
