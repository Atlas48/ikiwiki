[[!meta author="""http://kerravonsen.dreamwidth.org/"""]]

[[!meta authorurl="""http://kerravonsen.dreamwidth.org/"""]]

[[!meta title="""change to todo/Improving_the_efficiency_of_match__95__glob on ikiwiki"""]]

[[!meta permalink="http://ikiwiki.info/recentchanges/#change-608cef54d63ba60efd24ae14012dda7ff8d014a9"]]

<div id="change-608cef54d63ba60efd24ae14012dda7ff8d014a9" class="metadata">
<span class="desc"><br />Changed pages:</span>
<span class="pagelinks">

<a href="http://git.ikiwiki.info/?p=ikiwiki;a=blobdiff;f=doc/todo/Improving_the_efficiency_of_match__95__glob.mdwn;h=43571ead77346a1c5528360eec0e369958f2de7c;hp=c4d3a8ecb07bd1722646aba5a3eddfc4b2866fb6;hb=608cef54d63ba60efd24ae14012dda7ff8d014a9;hpb=9d26a72468fad69d633875b4ffb4aff8abd80023" title="diff" rel="nofollow">[[diff|wikiicons/diff.png]]</a><a href="http://ikiwiki.info/ikiwiki.cgi?page=todo%2FImproving_the_efficiency_of_match__95__glob&amp;do=goto" rel="nofollow">todo/Improving the efficiency of match&#95;glob</a>


</span>
<span class="desc"><br />Changed by:</span>
<span class="committer">

<a href="http://kerravonsen.dreamwidth.org/" rel="nofollow">kerravonsen [dreamwidth.org]</a>

</span>
<span class="desc"><br />Commit type:</span>
<span class="committype">web</span>
<span class="desc"><br />Date:</span>
<span class="changedate"><span class="relativedate" title="Sun, 14 Nov 2010 22:01:21 -0400">22:01:21 11/14/10</span></span>
<span class="desc"><br /></span>
</div>

<span class="revert">
<a href="http://ikiwiki.info/ikiwiki.cgi?rev=608cef54d63ba60efd24ae14012dda7ff8d014a9&amp;do=revert" title="revert" rel="nofollow">[[revert|wikiicons/revert.png]]</a>
</span>

<div class="changelog">


theory about differences in speed of memoize and non-memoize patches<br />


</div>

<div class="diff">
<pre>
diff --git a/doc/todo/Improving_the_efficiency_of_match__95__glob.mdwn b/doc/todo/Improving_the_efficiency_of_match__95__glob.mdwn
index c4d3a8e..43571ea 100644
--- a/doc/todo/Improving_the_efficiency_of_match__95__glob.mdwn
+++ b/doc/todo/Improving_the_efficiency_of_match__95__glob.mdwn
@@ -20,6 +20,8 @@ Here&#39;s my patch - please consider it! -- &#91;&#91;KathrynAndersen&#93;&#93;
 &gt;&gt;&gt;&gt; is less verbose than Kathryn&#39;s patch but also not as
 &gt;&gt;&gt;&gt; fast; I&#39;m not sure why, tbh. --&#91;&#91;smcv&#93;&#93;
 
+&gt;&gt;&gt;&gt;&gt; I think it&#39;s because my patch focuses on match_glob while the memoize patch focuses on `glob2re`, and `glob2re` is called in `filecheck`, `meta` and `po` as well as in `match_glob` and `match_user`; thus the memoized `glob2re` is dealing with a bigger set of globs to look up, and thus could be just that little bit slower. -- &#91;&#91;KathrynAndersen&#93;&#93;
+
 --------------------------------------------------------------
 Benchmarks done with Devel::Profile on the same testbed IkiWiki setup.  I&#39;m just showing the start of the profile output, since that&#39;s what&#39;s relevant.
 

</pre>
</div>

<!-- 608cef54d63ba60efd24ae14012dda7ff8d014a9 -->
